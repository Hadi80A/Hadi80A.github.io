import{_ as N,a as P,o as R,c as T,f as l,l as V,u as q,F as z,r as p,h as F,b as s,w as u,v as m,S as O,p as Z,k as D}from"./index-dead0782.js";import{r as G,c as H}from"./vue.runtime.esm-bundler-f1652755.js";import{t as C}from"./mosha-vue-toastify.es-07c10dea.js";import{a as v}from"./axios-4a70c6fc.js";var y={},J={get exports(){return y},set exports(t){y=t}};(function(t,r){(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".po-password-strength-bar{border-radius:2px;transition:all .2s linear;height:5px;margin-top:8px}.po-password-strength-bar.risky{background-color:#f95e68;width:10%}.po-password-strength-bar.guessable{background-color:#fb964d;width:32.5%}.po-password-strength-bar.weak{background-color:#fdd244;width:55%}.po-password-strength-bar.safe{background-color:#b0dc53;width:77.5%}.po-password-strength-bar.secure{background-color:#35cc62;width:100%}")),document.head.appendChild(e)}}catch(a){console.error("vite-plugin-css-injected-by-js",a)}})(),function(e,a){t.exports=a(G)}(H,function(e){const a=["123456","qwerty","password","111111","Abc123","123456789","12345678","123123","1234567890","12345","1234567","qwertyuiop","qwerty123","1q2w3e","password1","123321","Iloveyou","12345"],w=o=>a.includes(o),n=o=>{let i=0,c=0,h=0,f=0,g=0;const $=/[^A-Za-z0-9]/g,B=/(.*[a-z].*)/g,M=/(.*[A-Z].*)/g,Y=/(.*[0-9].*)/g,j=/(\w)(\1+\1+\1+\1+)/g,A=$.test(o),_=B.test(o),b=M.test(o),k=Y.test(o),x=j.test(o);if(o.length>4){if(w(o))return 0;(_||b)&&k&&(g=1),b&&_&&(f=1),(_||b||k)&&A&&(h=1),o.length>8&&(c=1),o.length>12&&!x&&(c=2),o.length>20&&!x&&(c=3),i=c+h+f+g,i>4&&(i=4)}return i},I=o=>{switch(o){case 0:return"risky";case 1:return"guessable";case 2:return"weak";case 3:return"safe";case 4:return"secure";default:return""}},S=o=>{const i=n(o);return I(i)},L={name:"PasswordMeter",props:{password:String},emits:["score"],computed:{passwordClass(){if(!this.password)return null;const o=S(this.password),i=n(this.password);return this.$emit("score",{score:i,strength:o}),{[o]:!0,scored:!0}}}},U=(o,i)=>{const c=o.__vccOpts||o;for(const[h,f]of i)c[h]=f;return c};function E(o,i,c,h,f,g){return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["po-password-strength-bar",g.passwordClass])},null,2)}return U(L,[["render",E]])})})(J);const K=y;const d=t=>(Z("data-v-9bd03c23"),t=t(),D(),t),Q=d(()=>s("h3",{class:"font-black text-3xl text-green-300 fixed top-10 left-10"},"TRAVEL",-1)),W={class:"section overflow-hidden"},X={class:"container"},ss={class:"row justify-content-center"},es={class:"col-12 text-center align-self-center py-5"},os={class:"section pb-5 pt-3 pt-sm-2 text-center"},ts=d(()=>s("h6",{class:"mb-0 pb-3"},[s("span",null,"Log In "),s("span",null,"Sign Up")],-1)),rs=d(()=>s("input",{class:"checkbox",type:"checkbox",id:"reg-log",name:"reg-log"},null,-1)),ns=d(()=>s("label",{for:"reg-log"},null,-1)),as={class:"card-3d-wrap mx-auto"},is={class:"card-3d-wrapper rounded-xl shadow-lg"},ls={class:"card-front"},cs={class:"center-wrap"},ds={class:"section text-center"},ps=d(()=>s("h4",{class:"mb-4 pb-3"},"Log In",-1)),us={class:"form-group"},ms={class:"form-group mt-2"},hs=d(()=>s("p",{class:"mb-0 mt-4 text-center"},[s("a",{href:"#0",class:"link"},"Forgot your password?")],-1)),fs={class:"card-back"},gs={class:"center-wrap"},ws={class:"section text-center"},_s=d(()=>s("h4",{class:"mb-4 pb-3"},"Sign Up",-1)),bs={class:"form-group"},vs={class:"form-group mt-2"},ys={class:"form-group mt-2"},ks={class:"form-group mt-2"};v.defaults.baseURL="https://bookingmastermind.pythonanywhere.com";const xs={components:{},data:()=>({email:p(""),phone:p(""),pass:p(""),pass2:p(""),loginPhone:p(""),loginPass:p("")}),methods:{login(){v.post("/token/",{phone:this.loginPhone,password:this.loginPass}).then(t=>{console.log(t),this.$cookies.set("refresh",t.data.refresh,{expires:"1d"}),this.$cookies.set("token",t.data.access,{expires:"5m"}),this.success("login successful"),this.$router.go(-1)}).catch(t=>{this.error("username or password invalid")})},signup(){this.check()&&v.post("/signup/",{phone:this.phone,email:this.email,password1:this.pass,password2:this.pass2}).then(t=>{this.success("successful")}).catch(t=>{t.response.data.message.forEach(r=>{this.error(r)})})},check(){return this.pass!==this.pass2?(document.getElementById("signpass").style="@apply border-red-200 border",this.error("passwords not equal"),!1):!0},error(t){C(t,{position:"bottom-right",type:"danger",showIcon:!0,timeout:1e4})},success(t){C(t,{position:"bottom-right",type:"success",showIcon:!0,timeout:1e4})}}},Ps=Object.assign(xs,{__name:"LoginView",setup(t){return(r,e)=>{const a=P("font-awesome-icon"),w=P("RouterLink");return R(),T(z,null,[Q,l(w,{to:"/",class:"fixed top-10 right-10 bg-amber-500 text-white active:bg-amber-700 hover:bg-amber-600 font-bold uppercase text-sm px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150"},{default:V(()=>[l(a,{icon:"fa-solid fa-home"}),F(" Return to Home ")]),_:1}),l(q(O),{appear:"",show:"",enter:"transition-all  duration-500 ease-in-out","enter-from":"opacity-0 scale-95 ","enter-to":"opacity-100 scale-100 ",leave:"transition-all duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:V(()=>[s("div",W,[s("div",X,[s("div",ss,[s("div",es,[s("div",os,[ts,rs,ns,s("div",as,[s("div",is,[s("div",ls,[s("div",cs,[s("div",ds,[ps,s("div",us,[u(s("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>r.loginPhone=n),name:"logemail",class:"form-style",placeholder:"Your Phone",id:"logemail",autocomplete:"off",required:""},null,512),[[m,r.loginPhone]]),l(a,{icon:"fa-solid fa-user",class:"input-icon"})]),s("div",ms,[u(s("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=n=>r.loginPass=n),name:"logpass",class:"form-style",placeholder:"Your Password",id:"logpass",autocomplete:"off",required:""},null,512),[[m,r.loginPass]]),l(a,{icon:"fa-solid fa-key",class:"input-icon"})]),s("button",{onClick:e[2]||(e[2]=n=>r.login()),class:"btn mt-4"},"submit"),hs])])]),s("div",fs,[s("div",gs,[s("div",ws,[_s,s("div",bs,[u(s("input",{"onUpdate:modelValue":e[3]||(e[3]=n=>r.phone=n),type:"text",name:"phone",class:"form-style",placeholder:"Your Phone Number",id:"phone",autocomplete:"off",required:""},null,512),[[m,r.phone]]),l(a,{icon:"fa-regular fa-circle-user",class:"input-icon"})]),s("div",vs,[u(s("input",{"onUpdate:modelValue":e[4]||(e[4]=n=>r.email=n),type:"text",name:"email",class:"form-style",placeholder:"Your Email",id:"email",autocomplete:"off",required:""},null,512),[[m,r.email]]),l(a,{icon:"fa-solid fa-at",class:"input-icon"})]),s("div",ys,[u(s("input",{type:"password",name:"signpass","onUpdate:modelValue":e[5]||(e[5]=n=>r.pass=n),class:"form-style",placeholder:"Your Password",id:"signpass",autocomplete:"off",required:""},null,512),[[m,r.pass]]),l(a,{icon:"fa-solid fa-fingerprint",class:"input-icon"})]),s("div",ks,[u(s("input",{type:"password",name:"signpass2","onUpdate:modelValue":e[6]||(e[6]=n=>r.pass2=n),class:"form-style",placeholder:"Your Password Again",id:"signpass2",autocomplete:"off",required:""},null,512),[[m,r.pass2]]),l(a,{icon:"fa-solid fa-check-double",class:"input-icon"}),l(q(K),{password:r.pass},null,8,["password"])]),s("button",{class:"btn mt-4",onClick:e[7]||(e[7]=n=>r.signup())},"submit")])])])])])])])])])])]),_:1})],64)}}}),Ss=N(Ps,[["__scopeId","data-v-9bd03c23"]]);export{Ss as default};
